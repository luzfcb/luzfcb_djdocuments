{% load staticfiles %}
{% load i18n %}
{% load spurl %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Editar</title>
    <link type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-loading-bar.css"
          rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"
            data-pace-options='{ "ajax": true , "restartOnRequestAfter": false, "document": false}'></script>


    <link type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/humane-js/3.2.2/themes/jackedup.min.css"
          rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/humane-js/3.2.2/humane.min.js"></script>
    <style>
        {#        .humane,#}
        {#        .humane-jackedup {#}
        {#            background-color: #d0ffcf;#}
        {#        }#}

    </style>
    <link type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css"
          rel="stylesheet">

    <link type="text/css"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"
          rel="stylesheet">
    <link type="application/vnd.ms-fontobject"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/fonts/glyphicons-halflings-regular.eot"
          rel="stylesheet">

    <link type="text/css"
          href="{% static "luzfcb_djdocuments/css/luzfcb_page_style.css" %}"
          rel="stylesheet">

    <link type="text/css"
          href="{% static "luzfcb_djdocuments/css/luzfcb_djdocuments.css" %}"
          rel="stylesheet">


    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="{% static "luzfcb_djdocuments/js/vendor/ckeditor/4.5.7/ckeditor-full-min/ckeditor.js" %}"></script>
    <script src="{% static "luzfcb_dj_simplelock/js/jquery_csrftoken.js" %}"></script>

</head>

<body class="body">
<div class="maindiv">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div id="menu-superior" class="row navbar-fixed-top cor-de-fundo-menus">
                    <div class="col-md-12">
                        <div class="btn-group">

                            <button class="btn btn-default" type="button" id="salvar">
                                <em class="glyphicon glyphicon-floppy-disk"></em> Salvar
                            </button>
                            <a class="btn btn-default djpopup2" type="button"
                               href="{% url 'documentos:imprimir' pk=object.pk %}">
                                <em class="glyphicon glyphicon-print"></em>Imprimir
                            </a>
                            <button class="btn btn-default" type="button">
                                <em class="glyphicon glyphicon-align-right"></em> Right
                            </button>
                            <button class="btn btn-default" type="button">
                                <em class="glyphicon glyphicon-align-justify"></em> Justify
                            </button>
                            <div class="pull-right" id="status-bar">Documento: {{ object.identificador_versao }}</div>
                        </div>
                        <div id="top" class="cktop">
                            <!-- Menu superior CKEditor -->
                        </div>
                    </div>
                </div>
                <div id="conteudo" class="row conteudo">
                    <div class="center-block a4-pagina">
                        <div class="col-md-12">
                            {% url 'documentos:update2' pk=object.pk as base_documento_update_url %}
                            {% spurl base=base_documento_update_url add_query="{{ next_page_paran }}" add_query="{{ popup_paran }}" as documento_update_url %}
                            <form role="form" method="post" id="formulario"
                                  action="{{ documento_update_url }}">

                                <div class="form-group ">
                                    {{ form.cabecalho }}
                                </div>
                                <div class="form-group">
                                    {{ form.titulo }}
                                </div>
                                <div class="form-group">
                                    {{ form.conteudo }}
                                </div>
                                <div class="form-group">
                                    {{ form.rodape }}
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="row navbar-fixed-bottom cor-de-fundo-menus">
                    <div class="col-md-12">
                        <div id="bottom">
                            <!--  Menu inferior CKEditor  -->
                        </div>
                        {#                        <div class="btn-group">#}
                        {##}
                        {#                            <button class="btn btn-default" type="button">#}
                        {#                                <em class="glyphicon glyphicon-align-left"></em> Left#}
                        {#                            </button>#}
                        {#                            <button class="btn btn-default" type="button">#}
                        {#                                <em class="glyphicon glyphicon-align-center"></em> Center#}
                        {#                            </button>#}
                        {#                            <button class="btn btn-default" type="button">#}
                        {#                                <em class="glyphicon glyphicon-align-right"></em> Right#}
                        {#                            </button>#}
                        {#                            <button class="btn btn-default" type="button">#}
                        {#                                <em class="glyphicon glyphicon-align-justify"></em> Justify#}
                        {#                            </button>#}
                        {#                        </div>#}
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    (function (window, jQuery) {
        window.luzfcb = window.luzfcb || {};
        window.luzfcb.editor = window.luzfcb.editor || {};
        var ckeditor_contentsCss = '{% static "luzfcb_djdocuments/css/ckeditor_custom_styles.css" %}';
        var msg_nao_salvo = '{% trans "O documento possui modificações e ainda não foi salvo" %}';

        var $botao_salvar = jQuery("#salvar");
        var $formulario = jQuery("#formulario");
        window.luzfcb.editor.ckeditor_contentsCss = ckeditor_contentsCss;
        window.luzfcb.editor.msg_nao_salvo = msg_nao_salvo;
        window.luzfcb.editor.$botao_salvar = $botao_salvar;
        window.luzfcb.editor.$formulario = $formulario

    })(window, jQuery);


</script>
<script src="{% static "luzfcb_djdocuments/js/luzfcb_editor.js" %}"></script>

{# luzfcb_dj_simplelock includes. Requires jQuery loaded first #}
{% include 'luzfcb_dj_simplelock/dj_simplelock.html' %}
{# end luzfcb_dj_simplelock includes. #}

<script>
    for (var i in CKEDITOR.instances) {
        console.log(i + ': ' + CKEDITOR.instances[i].checkDirty());
    }
</script>
</body>

</html>
